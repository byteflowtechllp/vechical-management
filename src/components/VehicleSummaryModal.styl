@import '../styles/variables'

.modal-overlay
  position fixed
  top 0
  left 0
  right 0
  bottom 0
  background-color rgba(0, 0, 0, 0.5)
  display flex
  align-items center
  justify-content center
  z-index 1000
  padding spacing-md

.modal-content
  background-color bg-primary
  border-radius radius-lg
  width 100%
  max-width 800px
  max-height 90vh
  overflow-y auto
  box-shadow shadow-lg

.vehicle-summary-modal
  max-height 90vh
  max-width 95vw

.modal-header
  display flex
  justify-content space-between
  align-items center
  padding 0.375rem spacing-sm
  border-bottom 1px solid border-color
  position sticky
  top 0
  background-color bg-primary
  z-index 10
  height 36px
  min-height 36px
  max-height 36px

  h2
    color text-primary
    font-size 0.75rem
    font-weight 700
    margin 0
    line-height 1
    white-space nowrap
    overflow hidden
    text-overflow ellipsis

.close-button
  background none
  border none
  font-size 1.5rem
  color text-secondary
  cursor pointer
  line-height 1
  padding 0
  width 24px
  height 24px
  display flex
  align-items center
  justify-content center
  border-radius radius-sm
  transition all 0.2s

  &:hover
    background-color bg-secondary
    color text-primary

.summary-content
  padding spacing-sm

.loading,
.error
  text-align center
  padding spacing-sm
  color text-secondary

.summary-stats
  display grid
  grid-template-columns repeat(4, 1fr)
  gap spacing-xs
  margin-bottom spacing-sm

.stat-card
  background-color bg-secondary
  padding 0.375rem spacing-xs
  border-radius radius-sm
  border 1px solid border-color
  text-align center

  [data-theme='dark'] &
    background-color rgba(30, 41, 59, 0.5)
    border-color rgba(71, 85, 105, 0.3)

.stat-label
  color text-secondary
  font-size 0.65rem
  font-weight 500
  text-transform uppercase
  margin-bottom 2px
  line-height 1

.stat-value
  color text-primary
  font-size 0.875rem
  font-weight 700
  line-height 1.2

  &.outstanding
    color #ef4444

.summary-details
  display flex
  flex-direction column
  gap spacing-xs

.detail-section
  background-color bg-secondary
  padding spacing-xs
  border-radius radius-sm
  border 1px solid border-color

  [data-theme='dark'] &
    background-color rgba(30, 41, 59, 0.5)
    border-color rgba(71, 85, 105, 0.3)

  h3
    color text-primary
    font-size 0.75rem
    font-weight 700
    margin 0 0 spacing-xs 0
    text-transform uppercase

.jobs-list,
.expenses-list
  display grid
  grid-template-columns repeat(auto-fill, minmax(250px, 1fr))
  gap spacing-xs

.job-summary-item
  padding spacing-xs
  background-color bg-primary
  border-radius radius-sm
  border 1px solid border-color

  .job-title
    color text-primary
    font-weight 600
    font-size 0.75rem
    margin-bottom 2px

  .job-metrics
    display flex
    flex-direction column
    gap 1px
    font-size 0.65rem

    span
      color text-secondary

    .outstanding
      color #ef4444
      font-weight 600

.monthly-table
  display flex
  flex-direction column
  gap 1px
  background-color border-color
  border-radius radius-sm
  overflow hidden

.table-header,
.table-row
  display grid
  grid-template-columns 1.5fr 1fr 1fr 1fr
  gap spacing-xs
  padding 0.25rem spacing-xs
  background-color bg-primary

  [data-theme='dark'] &
    border-bottom 1px solid rgba(71, 85, 105, 0.3)

.table-header
  background-color bg-secondary
  font-weight 600
  font-size 0.65rem
  text-transform uppercase
  color text-secondary
  padding 0.375rem spacing-xs

  [data-theme='dark'] &
    background-color rgba(30, 41, 59, 0.7)

.job-group-header
  grid-column 1 / -1
  background-color rgba(59, 130, 246, 0.1)
  padding 0.375rem spacing-xs
  border-left 3px solid #3b82f6
  margin-top 0.25rem

  [data-theme='dark'] &
    background-color rgba(59, 130, 246, 0.15)

  .job-group-name
    font-weight 700
    font-size 0.7rem
    color text-primary
    margin-bottom 2px

  .job-group-info
    font-size 0.6rem
    color text-secondary
    font-weight 400

.table-row
  font-size 0.7rem

  div:last-child.outstanding
    color #ef4444
    font-weight 600

.no-data
  color text-secondary
  font-size 0.7rem
  padding spacing-xs
  text-align center

.total-expenses
  padding spacing-xs
  font-size 0.7rem
  font-weight 600
  color text-primary

@media (max-width: mobile-breakpoint)
  .modal-content
    max-width 100%
    max-height 100vh
    border-radius 0

  .modal-header,
  .summary-content
    padding spacing-sm

  .summary-stats
    grid-template-columns repeat(2, 1fr)
    gap spacing-xs

  .jobs-list
    grid-template-columns 1fr

  .table-header,
  .table-row
    grid-template-columns 1fr
    gap spacing-xs

    div
      font-weight 600
      margin-bottom spacing-xs

      &:not(:first-child)
        padding-left spacing-sm
        border-left 2px solid border-color

